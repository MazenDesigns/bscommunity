!function(t){t(".formSubmit").on("click",function(a){a.preventDefault(),t(this).closest("form").submit()});var a=!1;t(document).ajaxStart(function(){a===!0&&xhr.abort(),a=!0}),t(document).ajaxComplete(function(){a=!1}),t("form.ajax").ajaxSubmit(),t(".install-tables").on("click",function(a){a.preventDefault(),t(".ajax-result").css({display:"inline-block"}),t(".step1").ajaxRequest({url:"install/tables"},function(a){for(key in a)t("#"+key).children(".ajax-result").replaceWith(a[key]);t(".next").show()})}),t(".save-data").on("click",function(a){a.preventDefault(),target=t(".ajax-loader"),form=t("#form"),target.show().html('<img src="img/loader.gif" />'),form.submit(function(t){t.preventDefault()});var e=form.serialize(),r=form.attr("action");form.ajaxRequest({url:r,data:e},function(a){if(a.done)t(".next").show(),form.find("input, textarea").removeClass("error"),target.html("<span>"+a.done+"</span>");else if(a.already)t(".next").show(),target.html('<strong class="color-5">'+a.already+"</strong>");else if(a.displayError)target.html('<strong class="color-5">'+a.displayError+"</strong>");else{var e="<ul class='have-arrow'>";t.each(a,function(){t.each(this,function(t,a){e+="<li>"+a+"</li>"})}),e+="</ul>",target.html(e),form.find("input, textarea").removeClass("error").each(function(){a[t(this).attr("name")]&&t(this).addClass("error")})}t("html,body").animate({scrollTop:target.offset().top},"fast")})})}(jQuery);